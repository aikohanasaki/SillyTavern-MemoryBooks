# ğŸ“• ST Memory Books - Pembantu Memori Sembang AI Anda

**Tukarkan perbualan sembang anda yang panjang kepada memori yang tersusun dan boleh dicari!**

Perlukan bot untuk mengingat perkara penting, tetapi sejarah sembang terlalu panjang untuk konteks? Mahu menjejaki titik plot penting secara automatik tanpa perlu mencatat nota secara manual? ST Memory Books melakukan semua itu - ia memantau sembang anda dan mencipta ringkasan pintar supaya anda tidak akan kehilangan jejak cerita anda lagi.

(Mencari perincian teknikal di sebalik tabir? Mungkin anda mahukan [Bagaimana STMB Berfungsi](userguides\howSTMBworks-en.md).)

---

## ğŸš€ Mula Pantas (5 Minit untuk Memori Pertama Anda!)

**Baru menggunakan ST Memory Books?** Mari kita siapkan memori automatik pertama anda dengan beberapa klik sahaja:

### Langkah 1: Cari Sambungan (Extension)
- Cari ikon tongkat ajaib (ğŸª„) di sebelah kotak input sembang anda
- Klik ikon tersebut, kemudian klik **"Memory Books"**
- Anda akan melihat panel kawalan ST Memory Books

### Langkah 2: Hidupkan Auto-Magic
- Di panel kawalan, cari **"Auto-Summary"** (Ringkasan Automatik)
- Hidupkannya (Turn ON)
- Tetapkan untuk mencipta memori setiap **20-30 mesej** (titik permulaan yang baik)
- Itu sahaja! ğŸ‰

### Langkah 3: Sembang Seperti Biasa
- Teruskan bersembang seperti biasa
- Selepas 20-30 mesej baharu, ST Memory Books akan secara automatik:
  - Memilih sempadan babak (scene) yang terbaik
  - Meminta AI anda menulis ringkasan
  - Menyimpannya ke koleksi memori anda
  - Menunjukkan pemberitahuan apabila selesai

**Tahniah!** Anda kini mempunyai pengurusan memori automatik. Tiada lagi masalah terlupa apa yang berlaku beberapa bab yang lalu!

---

## ğŸ’¡ Apa Sebenarnya ST Memory Books Lakukan

Anggaplah ST Memory Books sebagai **pustakawan AI peribadi** anda untuk perbualan sembang:

### ğŸ¤– **Ringkasan Automatik**
*"Saya tidak mahu memikirkannya, cuma pastikan ia berfungsi"*
- Memantau sembang anda di latar belakang
- Mencipta memori secara automatik setiap X mesej
- Sesuai untuk *roleplay* panjang, penulisan kreatif, atau cerita yang berterusan

### âœ‹ **Penciptaan Memori Manual**
*"Saya mahu kawalan ke atas apa yang disimpan"*
- Tandakan babak penting dengan butang anak panah mudah (â–º â—„)
- Cipta memori atas permintaan untuk saat-saat istimewa
- Bagus untuk menangkap titik plot utama atau perkembangan watak

### ğŸ“Š **Prom Sampingan & Penjejak Pintar**
*"Saya mahu menjejaki hubungan, urutan plot, atau statistik"*
- Coretan prom boleh guna semula yang meningkatkan penjanaan memori
- Pustaka templat dengan penjejak sedia ada
- Prom AI tersuai yang menjejaki apa sahaja yang anda mahu
- Kemas kini papan skor, status perhubungan, dan ringkasan plot secara automatik
- Contoh: "Siapa suka siapa?", "Status misi semasa", "Penjejak mood watak"

### ğŸ“š **Koleksi Memori**
*Tempat semua memori anda tinggal*
- Disusun dan boleh dicari secara automatik
- Berfungsi dengan sistem *lorebook* (buku lore) bawaan SillyTavern
- AI anda boleh merujuk memori lalu dalam perbualan baharu

---

## ğŸ¯ Pilih Gaya Anda

<details>
<summary><strong>ğŸ”„ "Tetapkan dan Lupa" (Disyorkan untuk Pemula)</strong></summary>

**Sesuai jika anda mahu:** Automasi tanpa tangan yang terus berfungsi

**Cara ia berfungsi:**
1. Hidupkan "Auto-Summary" dalam tetapan
2. Pilih kekerapan untuk mencipta memori (setiap 20-50 mesej berfungsi dengan baik)
3. Teruskan bersembang seperti biasa - memori berlaku secara automatik!

**Apa yang anda dapat:**
- Tiada kerja manual diperlukan
- Penciptaan memori yang konsisten
- Tidak pernah terlepas detik cerita penting
- Berfungsi dalam sembang tunggal dan kumpulan

**Tip pro:** Mula dengan 30 mesej, kemudian sesuaikan berdasarkan gaya sembang anda. Sembang pantas mungkin memerlukan 50+, sembang terperinci yang perlahan mungkin lebih suka 20.

</details>

<details>
<summary><strong>âœ‹ "Kawalan Manual" (Untuk Pembuatan Memori Terpilih)</strong></summary>

**Sesuai jika anda mahu:** Memutuskan dengan tepat apa yang menjadi memori

**Cara ia berfungsi:**
1. Cari butang anak panah kecil (â–º â—„) pada mesej sembang anda
2. Klik â–º pada mesej pertama babak penting
3. Klik â—„ pada mesej terakhir babak tersebut
4. Buka Memory Books (ğŸª„) dan klik "Create Memory"

**Apa yang anda dapat:**
- Kawalan penuh ke atas kandungan memori
- Sesuai untuk menangkap detik tertentu
- Bagus untuk babak kompleks yang memerlukan sempadan yang teliti

**Tip pro:** Butang anak panah muncul beberapa saat selepas memuatkan sembang. Jika anda tidak melihatnya, tunggu sebentar atau muat semula halaman (refresh).

</details>

<details>
<summary><strong>âš¡ "Pengguna Kuasa" (Perintah Slash)</strong></summary>

**Sesuai jika anda mahu:** Pintasan papan kekunci dan ciri termaju

**Perintah penting:**
- `/scenememory 10-25` - Cipta memori dari mesej 10 hingga 25
- `/creatememory` - Buat memori dari babak yang ditandakan sekarang
- `/nextmemory` - Ringkaskan semua perkara sejak memori terakhir
- `/sideprompt "Relationship Tracker"` - Jalankan penjejak tersuai

**Apa yang anda dapat:**
- Penciptaan memori sepantas kilat
- Operasi berkelompok (batch)
- Integrasi dengan aliran kerja tersuai

</details>

---

## ğŸŒˆ Ringkasan Arka (Arc Summaries)

Ringkasan Arka dicipta secara manual. Tiada apa yang diringkaskan atau dibuang melainkan anda memilih untuk melakukannya.

### S: Apakah itu Ringkasan Arka?

**J:** Ringkasan Arka membantu memastikan cerita panjang mudah diurus. Lama-kelamaan, anda mungkin mengumpul banyak entri memori lama. Sebahagian daripadanya menerangkan bahagian cerita yang sama.
Ringkasan Arka membolehkan anda menggabungkan beberapa memori lama menjadi satu ringkasan yang lebih pendek.

### S: Apa yang berlaku apabila saya membuat Ringkasan Arka?

**J:** Apabila anda mencipta Ringkasan Arka:

* Memori yang dipilih digabungkan menjadi satu entri baharu
* Ringkasan baharu menggantikan memori lama tersebut
  *(memori lama boleh disembunyikan secara automatik â€” tidak dipadam)*
* Cerita masih diingati, tetapi dengan penggunaan token yang lebih sedikit

### S: Mengapa perlu membuat Ringkasan Arka?

**J:** Ringkasan Arka berguna apabila:

* Senarai memori anda menjadi sangat panjang
* Memori lama tidak lagi diperlukan secara terperinci
* Anda mahu mengurangkan penggunaan token dalam sembang panjang

### S: Bagaimana cara membuat Ringkasan Arka?

**J:** Untuk mencipta Ringkasan Arka:

1. Klik **ğŸŒˆ Consolidate Memories into Arcs** di bahagian bawah popup utama STMB.
2. Pilih jenis arka:

   * **Multi-Arc**
     AI mencari rehat semula jadi dan mencipta beberapa arka.
     Anda boleh menetapkan bilangan minimum memori setiap arka.
     *Berfungsi paling baik dengan model yang kuat (GPT, Gemini, Sonnet). Model tempatan mungkin bergelut.*
   * **Single Arc**
     AI menggabungkan semua memori yang dipilih menjadi satu arka.
     Arka sebelumnya disertakan untuk membantu mengekalkan konsistensi cerita.
   * **Tiny**
     Pilihan yang lebih pantas dan ringkas yang mungkin berfungsi lebih baik dengan model tempatan,
     tetapi hasilnya mungkin kurang terperinci.
3. Pilih memori yang anda mahu sertakan.
4. Klik **Run** dan tunggu analisis arka selesai.

---

## ğŸ¨ Penjejak, Prom Sampingan, & Templat (Ciri Termaju)

**Prom Sampingan** (Side Prompts) adalah penjejak latar belakang yang membantu mengekalkan maklumat cerita yang sedang berjalan.
Mereka berjalan seiring dengan penciptaan memori dan boleh mengemas kini nota yang sama dari semasa ke semasa. Anggaplah mereka sebagai **pembantu yang memerhati cerita anda dan memastikan butiran tertentu sentiasa dikemas kini**.

### ğŸš€ **Mula Pantas dengan Templat**

1. Buka tetapan Memory Books
2. Klik **Side Prompts**
3. Layari **pustaka templat** dan pilih apa yang sesuai dengan cerita anda:

   * **Character Development Tracker** â€“ Menjejak perubahan personaliti dan pertumbuhan
   * **Relationship Dynamics** â€“ Menjejak hubungan antara watak
   * **Plot Thread Tracker** â€“ Menjejak jalan cerita yang sedang berlangsung
   * **Mood & Atmosphere** â€“ Menjejak nada emosi
   * **World Building Notes** â€“ Menjejak butiran latar tempat dan lore
4. Aktifkan templat yang anda mahu (anda boleh mengubah suainya kemudian)
5. Memori anda kini akan menyertakan penjejakan ini secara automatik

### âš™ï¸ **Bagaimana Prom Sampingan Berfungsi**

* **Penjejak Latar Belakang**: Mereka berjalan secara senyap dan mengemas kini maklumat dari semasa ke semasa
* **Tidak Mengganggu**: Mereka tidak mengubah tetapan AI utama atau prom watak anda
* **Kawalan Setiap Sembang**: Sembang yang berbeza boleh menggunakan penjejak yang berbeza
* **Berasaskan Templat**: Gunakan templat terbina dalam atau cipta sendiri
* **Automatik atau Manual**: Sesetengah berjalan secara automatik, yang lain boleh dijalankan melalui perintah

Ini menjadikan tingkah laku pencetus mudah difahami tanpa istilah teknikal.

### ğŸ› ï¸ **Mengurus Prom Sampingan**

* **Side Prompts Manager**: Cipta, sunting, duplikasi, dan susun penjejak
* **Enable / Disable**: Hidupkan atau matikan penjejak pada bila-bila masa
* **Import / Export**: Kongsi templat atau buat sandaran
* **Status View**: Lihat penjejak mana yang aktif dalam sembang semasa

"Status View" lebih jelas daripada "Live Preview" untuk pembaca.

### ğŸ’¡ **Contoh Templat**

* Pustaka Templat Prom Sampingan (import JSON ini):
  [SidePromptTemplateLibrary.json](/resources/SidePromptTemplateLibrary.json)

Contoh idea prom:

* "Jejak dialog penting dan interaksi watak"
* "Pastikan status misi semasa sentiasa dikemas kini"
* "Catat butiran pembinaan dunia baharu apabila ia muncul"
* "Jejak hubungan antara Watak A dan Watak B"

### ğŸ”§ **Mencipta Prom Sampingan Tersuai**

1. Buka Pengurus Prom Sampingan (Side Prompts Manager)
2. Klik **Create New**
3. Tulis arahan ringkas dan jelas
   *(contoh: "Sentiasa catat bagaimana keadaan cuaca dalam setiap babak")*
4. Simpan dan aktifkannya
5. Penjejak kini akan mengemas kini maklumat ini dari semasa ke semasa

### ğŸ’¬ **Tip Pro**

Prom Sampingan berfungsi paling baik apabila ia **kecil dan fokus**.
Daripada "jejak segalanya," cuba "jejak ketegangan romantik antara watak utama."

---

### ğŸ§  Kawalan Teks Termaju dengan Sambungan Regex

**Mahu kawalan mutlak ke atas teks yang dihantar kepada dan diterima daripada AI?** ST Memory Books kini berintegrasi dengan lancar bersama sambungan rasmi **Regex**, membolehkan anda mengubah teks secara automatik menggunakan peraturan tersuai.

**Sokongan Pilih-Banyak:** Anda kini boleh memilih banyak skrip regex dalam sambungan Regex. Semua skrip yang diaktifkan akan digunakan mengikut urutan pada setiap peringkat (Prom dan Respons), membolehkan transformasi yang berkuasa dan fleksibel.

Ini adalah ciri termaju yang sesuai untuk pengguna yang mahu:
- Membersihkan frasa berulang atau artifak daripada respons AI secara automatik.
- Memformat semula bahagian transkrip sembang sebelum AI melihatnya.
- Menyeragamkan terminologi atau gaya bahasa watak secara langsung.

#### **Cara Ia Berfungsi: Dua Cangkuk Mudah**

Integrasi ini berfungsi dengan menerapkan skrip regex yang diaktifkan pada dua titik kritikal. Anda mengawal skrip mana yang berjalan dengan menetapkan **Placement** (Penempatan) dalam editor sambungan Regex:

1.  **Mengubah Prom (Teks Keluar)**
    * **Penempatan untuk digunakan**: `User Input`
    * **Apa yang ia lakukan**: Memintas prom yang telah disusun sepenuhnya (termasuk sejarah sembang, arahan sistem, dll.) tepat sebelum ia dihantar ke AI untuk memori atau penjanaan prom sampingan.
    * **Contoh Kegunaan**: Anda boleh mencipta skrip untuk menggantikan semua kejadian nama panggilan watak dengan nama penuh mereka secara automatik, memastikan AI mempunyai konteks yang betul.

2.  **Mengubah Respons (Teks Masuk)**
    * **Penempatan untuk digunakan**: `AI Output`
    * **Apa yang ia lakukan**: Memintas respons teks mentah daripada AI *sebelum* ia diproses atau disimpan sebagai memori.
    * **Contoh Kegunaan**: Jika model AI anda sering menyertakan frasa berulang seperti *"As a large language model..."* dalam ringkasannya, anda boleh mencipta skrip regex untuk membuang frasa ini secara automatik daripada setiap memori yang dijananya.

#### **Contoh Mula Pantas: Membersihkan Respons AI**

Katakan model AI anda secara konsisten menambah `(OOC: I hope this summary is helpful!)` pada penjanaan memorinya. Berikut adalah cara untuk membuangnya secara automatik:

1.  **Pergi ke Sambungan Regex**: Buka menu sambungan utama SillyTavern dan pergi ke **Regex**.
2.  **Cipta Skrip Baharu**: Klik "Open Regex Editor" untuk mencipta skrip regex baharu.
3.  **Konfigurasi Skrip**:
    * **Script Name**: `Clean OOC Notes`
    * **Find Regex**: `/\\(OOC:.*?\\)/g` (Ini mencari teks "(OOC: ...)" dan semua di dalamnya).
    * **Replace String**: Biarkan ini kosong untuk memadam teks yang dipadankan.
    * **Affects (Placement)**: Nyahtanda semua kotak kecuali **AI Output**. Ini adalah langkah paling penting!
    * **Enable the Script**: Pastikan skrip tidak dilumpuhkan.
4.  **Simpan dan Selesai!**

Sekarang, setiap kali ST Memory Books mendapat respons daripada AI, skrip ini akan berjalan secara automatik, membersihkan teks yang tidak diingini sebelum memori disimpan ke *lorebook* anda.

---

## âš™ï¸ Tetapan Yang Sebenarnya Penting

Jangan risau - anda tidak perlu mengkonfigurasi semuanya! Berikut adalah tetapan yang membuat perbezaan terbesar:

### ğŸ›ï¸ **Kekerapan Auto-Summary**
- **20-30 mesej**: Bagus untuk sembang terperinci dan perlahan
- **40-60 mesej**: Sesuai untuk perbualan pantas dan penuh aksi
- **80+ mesej**: Untuk sembang kumpulan yang sangat pantas atau perbualan santai

### ğŸ“ **Pratonton Memori (Memory Previews)**
- Hidupkan ini (ON) untuk menyemak memori sebelum ia disimpan
- Anda boleh menyunting, meluluskan, atau menjana semula jika AI terlepas sesuatu yang penting
- Disyorkan untuk jalan cerita penting

### ğŸ·ï¸ **Tajuk Memori (Memory Titles)**
- Sesuaikan bagaimana memori anda dinamakan
- Gunakan `{{title}}` untuk tajuk janaan AI, `{{scene}}` untuk nombor mesej
- Contoh: `"Bab {{title}} ({{scene}})"` menjadi `"Bab Pelarian Agung (Babak 45-67)"`

### ğŸ“š **Koleksi Memori** (Lorebooks)
- **Mod Auto**: Menggunakan koleksi memori lalai sembang anda (paling mudah)
- **Mod Manual**: Pilih koleksi tertentu untuk setiap sembang (untuk organisasi)
- **Auto-create**: Membuat koleksi baharu secara automatik (bagus untuk watak baharu)

---

## ğŸ”§ Penyelesaian Masalah (Apabila Perkara Tidak Menjadi)

### "Saya tidak nampak pilihan Memory Books!"
- Semak bahawa sambungan telah dipasang dan diaktifkan
- Cari ikon tongkat ajaib (ğŸª„) di sebelah input sembang anda
- Cuba muat semula halaman (refresh)

### "Butang anak panah (â–º â—„) tidak muncul!"
- Tunggu 3-5 saat selepas memuatkan sembang - ia memerlukan masa untuk muncul
- Jika masih hilang, muat semula halaman
- Pastikan ST Memory Books diaktifkan dalam sambungan

### "Auto Summary tidak berfungsi!"
- Semak dua kali bahawa "Auto-Summary" diaktifkan dalam tetapan Memory Books
- Adakah selang mesej telah dicapai? Auto-summary menunggu mesej baharu yang mencukupi
- Jika anda menangguhkan auto-summary, ia mungkin menunggu sehingga jumlah mesej tertentu
- Auto-summary hanya memproses mesej baharu sejak memori *terakhir*. Jika anda memadam memori lama, ia tidak akan mengundur ke belakang.

### "Saya mendapat ralat mengenai lorebook yang hilang!"
- Pergi ke tetapan Memory Books
- Sama ada ikat *lorebook* ke sembang anda (Mod Automatik) atau aktifkan "Auto-create lorebook if none exists"

### "Kadang-kadang ia gagal tanpa sebab!"
- Pastikan Panjang Respons Maksimum (Max Response Length) anda (dalam pratetap SillyTavern) ditetapkan pada nombor yang cukup besar. Aiko mengesyorkan sekurang-kurangnya 2000 token (Aiko menggunakan 4000.)
- Mesej ralat kini lebih terperinci, tetapi jika anda masih mengalami masalah sila hubungi Aiko di Github atau Discord.

### "Prom tersuai saya tidak berfungsi dengan betul!"
- Semak "Summary Prompt Manager" dalam tetapan Memory Books
- Pastikan prom anda mengarahkan AI untuk bertindak balas dalam **format JSON** (contoh, `{ "title": "...", "content": "..." }`)

---

## ğŸš« Apa Yang ST Memory Books Tidak Lakukan

- **Bukan penyunting lorebook umum:** Panduan ini memfokuskan pada entri yang dicipta oleh STMB. Untuk penyuntingan lorebook umum, gunakan penyunting lorebook bawaan SillyTavern.

---

## ğŸ’¡ Dapatkan Bantuan & Info Lanjut

- **Info lebih terperinci:** [readme.md](readme.md)
- **Kemas kini terkini:** [changelog.md](changelog.md)
- **Tukar lorebook lama:** [lorebookconverter.html](lorebookconverter.html)
- **Sokongan komuniti:** Sertai komuniti SillyTavern di Discord! (Cari thread ğŸ“•ST Memory Books atau DM @tokyoapple untuk bantuan terus.)
- **Pepijat/ciri:** Menui pepijat atau ada idea hebat? Buka isu GitHub di repositori ini.

---

### ğŸ“š Kuasakan dengan Penyusunan Lorebook (STLO)

Untuk organisasi memori termaju dan integrasi cerita yang lebih mendalam, kami sangat mengesyorkan penggunaan STMB bersama [SillyTavern-LorebookOrdering (STLO)](https://github.com/aikohanasaki/SillyTavern-LorebookOrdering/blob/main/guides/STMB%20and%20STLO%20-%20English.md). Lihat panduan untuk amalan terbaik, arahan persediaan, dan tip!