# 📕 ST 메모리 북 - 당신의 AI 채팅 메모리 어시스턴트

**끝없는 채팅 대화를 정리되고 검색 가능한 메모리로 바꿔보세요!**

봇이 무언가를 기억해야 하는데 채팅이 너무 길어 컨텍스트에 담기 힘든가요? 수동으로 메모하지 않고도 중요한 플롯 포인트를 자동으로 추적하고 싶으신가요? ST 메모리 북이 바로 그 역할을 합니다 - 채팅을 지켜보고 스마트한 요약을 만들어 이야기의 흐름을 놓치지 않도록 도와줍니다.

---

## 🚀 빠른 시작 (5분 만에 첫 메모리 만들기!)

**ST 메모리 북이 처음이신가요?** 몇 번의 클릭만으로 첫 자동 메모리를 설정해 봅시다:

### 1단계: 확장 프로그램 찾기
- 채팅 입력창 옆에 있는 마술봉 아이콘(🪄)을 찾으세요
- 클릭한 다음 **"메모리 북"**을 클릭하세요
- ST 메모리 북 제어판이 나타납니다

### 2단계: 자동-마법 켜기
- 제어판에서 **"자동 요약"**을 찾으세요
- 켜세요
- 매 **20-30 메시지**마다 메모리를 생성하도록 설정하세요 (좋은 시작점입니다)
- 이게 다입니다! 🎉

### 3단계: 평소처럼 채팅하기
- 평소처럼 채팅을 계속하세요
- 20-30개의 새 메시지 후에 ST 메모리 북이 자동으로:
  - 최적의 장면 경계를 선택합니다
  - AI에게 요약을 작성하도록 요청합니다
  - 메모리 컬렉션에 저장합니다
  - 완료되면 알림을 표시합니다

**축하합니다!** 이제 자동화된 메모리 관리를 사용하게 되었습니다. 더 이상 몇 챕터 전에 무슨 일이 있었는지 잊어버릴 일이 없습니다!

---

## 💡 ST 메모리 북이 실제로 하는 일

ST 메모리 북을 채팅 대화를 위한 **개인 AI 사서**라고 생각하세요:

### 🤖 **자동 요약**
*"신경 쓰고 싶지 않아요, 그냥 작동하게 해주세요"*
- 백그라운드에서 채팅을 지켜봅니다
- X 메시지마다 자동으로 메모리를 생성합니다
- 긴 롤플레잉, 창작 글쓰기 또는 진행 중인 이야기에 적합합니다

### ✋ **수동 메모리 생성**
*"저장할 내용을 직접 제어하고 싶어요"*
- 간단한 화살표 버튼(► ◄)으로 중요한 장면을 표시하세요
- 특별한 순간을 위해 필요할 때 메모리를 생성하세요
- 핵심 플롯 포인트나 캐릭터 발전을 포착하는 데 좋습니다

### 📊 **사이드 프롬프트 및 스마트 트래커**
*"관계, 플롯 스레드 또는 통계를 추적하고 싶어요"*
- 메모리 생성을 향상시키는 재사용 가능한 프롬프트 스니펫
- 즉시 사용 가능한 트래커가 있는 템플릿 라이브러리
- 원하는 모든 것을 추적하는 사용자 지정 AI 프롬프트
- 스코어보드, 관계 상태, 플롯 요약을 자동으로 업데이트합니다
- 예: "누가 누구를 좋아하나?", "현재 퀘스트 상태", "캐릭터 기분 추적기"

### 📚 **메모리 컬렉션**
*모든 메모리가 사는 곳*
- 자동으로 정리되고 검색 가능합니다
- SillyTavern의 내장 로어북 시스템과 함께 작동합니다
- AI가 새 대화에서 과거 메모리를 참조할 수 있습니다

---

## 🎯 스타일 선택

<details>
<summary><strong>🔄 "설정하고 잊기" (초보자에게 권장)</strong></summary>

**다음을 원할 경우 완벽합니다:** 그냥 작동하는 자동화

**작동 방식:**
1. 설정에서 "자동 요약"을 켜세요
2. 메모리 생성 빈도를 선택하세요 (20-50 메시지마다 잘 작동합니다)
3. 평소처럼 채팅을 계속하세요 - 메모리가 자동으로 생성됩니다!

**얻는 것:**
- 수동 작업이 필요 없습니다
- 일관된 메모리 생성
- 중요한 이야기의 흐름을 놓치지 않습니다
- 단일 및 그룹 채팅 모두에서 작동합니다

**프로 팁:** 30 메시지로 시작한 다음 채팅 스타일에 따라 조정하세요. 빠른 채팅은 50+를 원할 수 있고, 느리고 상세한 채팅은 20을 선호할 수 있습니다.

</details>

<details>
<summary><strong>✋ "수동 제어" (선택적 메모리 만들기용)</strong></summary>

**다음을 원할 경우 완벽합니다:** 무엇이 메모리가 될지 정확하게 결정하고 싶을 때

**작동 방식:**
1. 채팅 메시지에서 작은 화살표 버튼(► ◄)을 찾으세요
2. 중요한 장면의 첫 번째 메시지에서 ►를 클릭하세요
3. 해당 장면의 마지막 메시지에서 ◄를 클릭하세요
4. 메모리 북(🪄)을 열고 "메모리 생성"을 클릭하세요

**얻는 것:**
- 메모리 내용을 완벽하게 제어할 수 있습니다
- 특정 순간을 포착하는 데 적합합니다
- 신중한 경계가 필요한 복잡한 장면에 좋습니다

**프로 팁:** 화살표 버튼은 채팅을 로드한 후 몇 초 후에 나타납니다. 보이지 않으면 잠시 기다리거나 페이지를 새로고침하세요.

</details>

<details>
<summary><strong>⚡ "파워 유저" (슬래시 명령어)</strong></summary>

**다음을 원할 경우 완벽합니다:** 키보드 단축키 및 고급 기능

**필수 명령어:**
- `/scenememory 10-25` - 메시지 10에서 25까지의 메모리 생성
- `/creatememory` - 현재 표시된 장면에서 메모리 만들기
- `/nextmemory` - 마지막 메모리 이후의 모든 것을 요약
- `/sideprompt "관계 추적기"` - 사용자 지정 추적기 실행

**얻는 것:**
- 번개처럼 빠른 메모리 생성
- 일괄 작업
- 사용자 지정 워크플로우와의 통합

</details>

---

## 🎨 사이드 프롬프트 및 템플릿 (고급 기능)

**사이드 프롬프트**는 주 AI 설정을 변경하지 않고 메모리 생성을 향상시키는 재사용 가능한 프롬프트 스니펫입니다. 메모리에 추가적인 초점이나 추적 기능을 제공하는 "애드온"이라고 생각하세요.

### 🚀 **템플릿으로 빠른 시작**
1. 메모리 북 설정을 엽니다
2. **"사이드 프롬프트"** 버튼을 클릭합니다
3. **템플릿 라이브러리**를 둘러보세요 - 이야기에 맞는 것을 선택하세요:
   - **캐릭터 발전 추적기** - 성격 변화와 성장을 추적합니다
   - **관계 역학** - 캐릭터 간의 관계를 모니터링합니다
   - **플롯 스레드 추적기** - 진행 중인 스토리라인을 추적합니다
   - **분위기 및 분위기** - 장면의 감정적 톤을 포착합니다
   - **세계관 설정 노트** - 설정 세부 정보와 로어를 기록합니다
4. 원하는 템플릿을 활성화하고 필요에 따라 사용자 지정하세요
5. 이제 메모리에 이 추가 추적이 자동으로 포함됩니다!

### ⚙️ **사이드 프롬프트 작동 방식**
- **비간섭적**: 주 AI 설정이나 캐릭터 프롬프트를 변경하지 않습니다
- **채팅별 제어**: 다른 채팅에 다른 프롬프트를 활성화합니다
- **템플릿 기반**: 미리 만들어진 템플릿을 사용하거나 사용자 지정 템플릿을 만듭니다
- **자동 통합**: 활성화되면 생성되는 모든 메모리를 향상시킵니다

### 🛠️ **사이드 프롬프트 관리**
- **사이드 프롬프트 관리자**: 프롬프트를 생성, 편집, 복제 및 정리합니다
- **가져오기/내보내기**: 다른 사람과 프롬프트 템플릿을 공유하거나 컬렉션을 백업합니다
- **빠른 토글**: 사이드 프롬프트 팝업에서 프롬프트를 즉시 활성화/비활성화합니다
- **실시간 미리보기**: 현재 채팅에 활성 상태인 프롬프트를 확인합니다

### 💡 **템플릿 예시**
- 사이드 프롬프트 템플릿 라이브러리 (이 JSON 가져오기): [SidePromptTemplateLibrary.json](/resources/SidePromptTemplateLibrary.json)
- **"대화와 캐릭터 상호 작용에 초점"**
- **"현재 퀘스트 상태와 목표 추적"**
- **"언급된 모든 세계관 설정 세부 정보 기록"**
- **"[캐릭터 A]와 [캐릭터 B]의 관계 모니터링"**

### 🔧 **사용자 지정 사이드 프롬프트 만들기**
1. 사이드 프롬프트 관리자를 엽니다
2. "새로 만들기"를 클릭합니다
3. 프롬프트를 작성합니다 (예: "각 장면의 날씨를 항상 기록하세요")
4. 저장하고 활성화합니다
5. 이제 모든 메모리에 날씨 추적이 포함됩니다!

**프로 팁**: 사이드 프롬프트는 구체적이고 집중적일 때 가장 잘 작동합니다. "모든 것을 추적"하는 대신 "주요 캐릭터 간의 낭만적인 긴장감 추적"과 같이 시도해 보세요.

---

### 🧠 Regex 확장 프로그램을 사용한 고급 텍스트 제어

**AI에 보내고 받는 텍스트를 궁극적으로 제어하고 싶으신가요?** ST 메모리 북은 이제 공식 **Regex** 확장 프로그램과 원활하게 통합되어 사용자 지정 규칙을 사용하여 텍스트를 자동으로 변환할 수 있습니다.

이것은 다음과 같은 사용자를 위한 고급 기능입니다:
- AI의 응답에서 반복적인 문구나 인공물을 자동으로 정리하고 싶을 때.
- AI가 보기 전에 채팅 기록의 일부를 재구성하고 싶을 때.
- 용어나 캐릭터의 버릇을 즉석에서 표준화하고 싶을 때.

#### **작동 방식: 두 가지 간단한 후크**

이 통합은 활성화된 정규식 스크립트를 두 가지 중요한 지점에서 적용하여 작동합니다. Regex 확장 프로그램 편집기에서 **배치**를 설정하여 실행할 스크립트를 제어합니다:

1.  **프롬프트 수정 (나가는 텍스트)**
    *   **사용할 배치**: `User Input`
    *   **기능**: 메모리 또는 사이드 프롬프트 생성을 위해 AI에 보내기 직전에 완전히 조립된 프롬프트(채팅 기록, 시스템 지침 등 포함)를 가로챕니다.
    *   **사용 예**: 캐릭터의 별명을 전체 이름으로 자동 교체하는 스크립트를 만들어 AI가 적절한 컨텍스트를 갖도록 할 수 있습니다.

2.  **응답 수정 (들어오는 텍스트)**
    *   **사용할 배치**: `AI Output`
    *   **기능**: AI의 원시 텍스트 응답을 메모리로 구문 분석하거나 저장하기 *전*에 가로챕니다.
    *   **사용 예**: AI 모델이 요약에 "대규모 언어 모델로서..."와 같은 반복적인 문구를 자주 포함하는 경우, 생성하는 모든 메모리에서 이 문구를 자동으로 제거하는 정규식 스크립트를 만들 수 있습니다.

#### **빠른 시작 예: AI 응답 정리**

AI 모델이 메모리 생성에 지속적으로 `(OOC: 이 요약이 도움이 되기를 바랍니다!)`를 추가한다고 가정해 보겠습니다. 이를 자동으로 제거하는 방법은 다음과 같습니다:

1.  **Regex 확장 프로그램으로 이동**: 기본 SillyTavern 확장 프로그램 메뉴를 열고 **Regex**로 이동합니다.
2.  **새 스크립트 만들기**: "Regex 편집기 열기"를 클릭하여 새 정규식 스크립트를 만듭니다.
3.  **스크립트 구성**:
    *   **스크립트 이름**: `OOC 노트 정리`
    *   **찾을 Regex**: `/\\(OOC:.*?\\)/g` (이것은 "(OOC: ...)" 텍스트와 그 안의 모든 것을 찾습니다).
    *   **바꿀 문자열**: 일치하는 텍스트를 삭제하려면 비워 둡니다.
    *   **영향(배치)**: **AI Output**을 제외한 모든 상자의 선택을 취소합니다. 이것이 가장 중요한 단계입니다!
    *   **스크립트 활성화**: 스크립트가 비활성화되어 있지 않은지 확인하세요.
4.  **저장하고 완료!**

이제 ST 메모리 북이 AI로부터 응답을 받을 때마다 이 스크립트가 자동으로 실행되어 메모리가 로어북에 저장되기 전에 원치 않는 텍스트를 정리합니다.

---

## ⚙️ 실제로 중요한 설정

걱정 마세요 - 모든 것을 구성할 필요는 없습니다! 가장 큰 차이를 만드는 설정은 다음과 같습니다:

### 🎛️ **자동 요약 빈도**
- **20-30 메시지**: 상세하고 느린 채팅에 적합합니다
- **40-60 메시지**: 빠르고 액션이 가득한 대화에 적합합니다
- **80+ 메시지**: 매우 빠른 그룹 채팅이나 캐주얼한 대화에 적합합니다

### 📝 **메모리 미리보기**
- 저장되기 전에 메모리를 검토하려면 이 옵션을 켜세요
- AI가 중요한 것을 놓친 경우 편집, 승인 또는 재생성할 수 있습니다
- 중요한 스토리라인에 권장됩니다

### 🏷️ **메모리 제목**
- 메모리 이름 지정 방식을 사용자 지정하세요
- AI 생성 제목에는 `{{title}}`을, 메시지 번호에는 `{{scene}}`을 사용하세요
- 예: `"챕터 {{title}} ({{scene}})"`은 `"챕터 위대한 탈출 (장면 45-67)"`이 됩니다

### 📚 **메모리 컬렉션** (로어북)
- **자동 모드**: 채팅의 기본 메모리 컬렉션을 사용합니다 (가장 쉬움)
- **수동 모드**: 각 채팅에 대해 특정 컬렉션을 선택합니다 (정리용)
- **자동 생성**: 새 컬렉션을 자동으로 만듭니다 (새 캐릭터에 좋음)

---

## 🔧 문제 해결 (작동하지 않을 때)

### "메모리 북 옵션이 보이지 않아요!"
- 확장 프로그램이 설치되고 활성화되었는지 확인하세요
- 채팅 입력창 옆에 있는 마술봉(🪄) 아이콘을 찾으세요
- 페이지를 새로고침해 보세요

### "화살표 버튼(► ◄)이 보이지 않아요!"
- 채팅을 로드한 후 3-5초 기다리세요 - 나타나는 데 시간이 걸립니다
- 여전히 보이지 않으면 페이지를 새로고침하세요
- 확장 프로그램에서 ST 메모리 북이 활성화되어 있는지 확인하세요

### "자동 요약이 작동하지 않아요!"
- 메모리 북 설정에서 "자동 요약"이 활성화되어 있는지 다시 확인하세요
- 메시지 간격에 도달했나요? 자동 요약은 충분한 새 메시지를 기다립니다
- 자동 요약을 연기한 경우 특정 메시지 수까지 기다릴 수 있습니다
- 자동 요약은 *마지막* 메모리 이후의 새 메시지만 처리합니다. 이전 메모리를 삭제한 경우 되돌아가지 않습니다.

### "로어북 누락 오류가 발생해요!"
- 메모리 북 설정으로 이동하세요
- 채팅에 로어북을 바인딩하거나(자동 모드) "로어북이 없으면 자동 생성"을 활성화하세요

### "이유 없이 가끔 실패해요!"
- SillyTavern 사전 설정에서 최대 응답 길이가 충분히 큰 숫자로 설정되어 있는지 확인하세요. Aiko는 최소 2000 토큰을 권장합니다 (Aiko는 4000을 실행합니다.)
- 오류 메시지가 이제 더 상세해졌지만 여전히 문제가 있는 경우 Github 또는 Discord에서 Aiko에게 문의하세요.

### "내 사용자 지정 프롬프트가 제대로 작동하지 않아요!"
- 메모리 북 설정에서 "요약 프롬프트 관리자"를 확인하세요
- 프롬프트가 AI에게 **JSON 형식**으로 응답하도록 지시하는지 확인하세요 (예: `{ "title": "...", "content": "..." }`)

---

## 🚫 ST 메모리 북이 하지 않는 일

- **일반 로어북 편집기가 아닙니다:** 이 가이드는 STMB에서 생성된 항목에 중점을 둡니다. 일반 로어북 편집은 SillyTavern의 내장 로어북 편집기를 사용하세요.

---

## 💡 도움말 및 추가 정보

- **더 자세한 정보:** [readme.md](readme.md)
- **최신 업데이트:** [changelog.md](changelog.md)
- **이전 로어북 변환:** [lorebookconverter.html](lorebookconverter.html)
- **커뮤니티 지원:** Discord의 SillyTavern 커뮤니티에 참여하세요! (📕ST 메모리 북 스레드를 찾거나 직접 도움을 받으려면 @tokyoapple에게 DM을 보내세요.)
- **버그/기능:** 버그를 발견했거나 좋은 아이디어가 있으신가요? 이 저장소에서 GitHub 이슈를 열어주세요.
